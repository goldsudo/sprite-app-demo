(function(a){a.Callbacks=function(l){l=a.extend({},l);var e,b,f,d,g,h,i=[],j=!l.once&&[],c=function(m){e=l.memory&&m;b=true;h=d||0;d=0;g=i.length;f=true;for(;i&&h<g;++h){if(i[h].apply(m[0],m[1])===false&&l.stopOnFalse){e=false;break}}f=false;if(i){if(j){j.length&&c(j.shift())}else{if(e){i.length=0}else{k.disable()}}}},k={add:function(){if(i){var n=i.length,m=function(o){a.each(o,function(q,p){if(typeof p==="function"){if(!l.unique||!k.has(p)){i.push(p)}}else{if(p&&p.length&&typeof p!=="string"){m(p)}}})};m(arguments);if(f){g=i.length}else{if(e){d=n;c(e)}}}return this},remove:function(){if(i){a.each(arguments,function(o,m){var n;while((n=a.inArray(m,i,n))>-1){i.splice(n,1);if(f){if(n<=g){--g}if(n<=h){--h}}}})}return this},has:function(m){return !!(i&&(m?a.inArray(m,i)>-1:i.length))},empty:function(){g=i.length=0;return this},disable:function(){i=j=e=undefined;return this},disabled:function(){return !i},lock:function(){j=undefined;if(!e){k.disable()}return this},locked:function(){return !j},fireWith:function(n,m){if(i&&(!b||j)){m=m||[];m=[n,m.slice?m.slice():m];if(f){j.push(m)}else{c(m)}}return this},fire:function(){return k.fireWith(this,arguments)},fired:function(){return !!b}};return k}})(Zepto);